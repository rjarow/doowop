---

- hosts: 127.0.0.1
  become: no
  gather_facts: False
  connection: local

  vars_prompt:
  - name: docker_user
    prompt: Please Enter the user you'd like to allow docker access to (likely your current login)
    private: no

### This takes care of making sure python2 is installed and if we want to run any plays locally in the future. Needed for Ubuntu 16.04 ###
  pre_tasks:
  - name: Check for ansible and install if missing, then gather facts
    raw: test -e /usr/bin/ansible || (sudo apt-get install -y ansible)

  - setup: # gather_facts

  roles:
###  Main Roles ###
    - { role: common, tags: [ "common" ] } # install pre-requisites / upgrade apt 
    - { role: docker, tags: [ "docker" ] } # docker install
    - { role: ufw, tags: [ "ufw" ] } # firewall install